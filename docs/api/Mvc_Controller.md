# З Controller

**Full name:** [Merlin\Mvc\Controller](../../src/Mvc/Controller.php)

MVC Controller class

##  Public methods

### beforeAction() 路 [source](../../src/Mvc/Controller.php#L45)

`public function beforeAction(string|null $action = null, array $params = []): Merlin\Http\Response|null`

Optional method to run before an action. If it returns a Response, the action will be skipped and the response sent immediately.

**Л Parameters**

| Name | Type | Default | Description |
|---|---|---|---|
| `$action` | string\|null | `null` | The name of the action being executed (e.g. "editAction") |
| `$params` | array | `[]` | The parameters passed to the action (e.g. route variables or DI-resolved dependencies) |

**★ Return value**

- Type: [Response](Http_Response.md)|null
- Description: If a Response is returned, it will be sent immediately and the action will be skipped. If null is returned, the action will execute as normal.


---

### afterAction() 路 [source](../../src/Mvc/Controller.php#L56)

`public function afterAction(string|null $action = null, array $params = []): Merlin\Http\Response|null`

Optional method to run after an action. It receives the Response returned by the action (or generated by the framework if the action returned something else). If it returns a Response, that response will be sent instead of the original one.

**Л Parameters**

| Name | Type | Default | Description |
|---|---|---|---|
| `$action` | string\|null | `null` | The name of the action that was executed (e.g. "editAction") |
| `$params` | array | `[]` | The parameters passed to the action (e.g. route variables or DI-resolved dependencies) |

**★ Return value**

- Type: [Response](Http_Response.md)|null
- Description: If a Response is returned, it will replace the original response from the action. If null is returned, the original response will be sent.


---

### getMiddleware() 路 [source](../../src/Mvc/Controller.php#L67)

`public function getMiddleware(): array`

Get the middleware for the controller. Usually used by the Dispatcher to build the middleware pipeline for the current request.

**★ Return value**

- Type: array


---

### getActionMiddleware() 路 [source](../../src/Mvc/Controller.php#L77)

`public function getActionMiddleware(string $action): array`

Get the middleware for a specific action. Usually used by the Dispatcher to build the middleware pipeline for the current request.

**Л Parameters**

| Name | Type | Default | Description |
|---|---|---|---|
| `$action` | string | - | The name of the action (e.g. "editAction") |

**★ Return value**

- Type: array


---

### context() 路 [source](../../src/Mvc/Controller.php#L88)

`public function context(): Merlin\AppContext`

Get the current AppContext instance. Useful for accessing services or route info from the controller.

**★ Return value**

- Type: [AppContext](AppContext.md)


---

### request() 路 [source](../../src/Mvc/Controller.php#L97)

`public function request(): Merlin\Http\Request`

Get the current Request object from the context.

**★ Return value**

- Type: [Request](Http_Request.md)


---

### view() 路 [source](../../src/Mvc/Controller.php#L106)

`public function view(): Merlin\Mvc\ViewEngine`

Get the ViewEngine from the context for rendering views.

**★ Return value**

- Type: [ViewEngine](Mvc_ViewEngine.md)


---

### session() 路 [source](../../src/Mvc/Controller.php#L115)

`public function session(): Merlin\Http\Session|null`

Get the Session from the context. May return null if no session is available.

**★ Return value**

- Type: [Session](Http_Session.md)|null


---

### cookies() 路 [source](../../src/Mvc/Controller.php#L124)

`public function cookies(): Merlin\Http\Cookies`

Get the Cookies service from the context for managing cookies.

**★ Return value**

- Type: [Cookies](Http_Cookies.md)



---

[Back to the Index 猡](index.md)
